<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Usage - SADDLE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://pityka.github.io/saddle/favicon.png">

  
  
  <link rel="stylesheet" href="/saddle/css/style.min.ab49f0da65a9bb2e51b43f76fb24346d416717d3205cbd8e2e0bd70b9c811f6c.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/saddle/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/saddle/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="/saddle/api/">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-code">
      <a href="https://github.com/pityka/saddle">
        <span>Code</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    
    
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/saddle/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/saddle/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="/saddle/api/">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-code">
      <a href="https://github.com/pityka/saddle">
        <span>Code</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>

    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://pityka.github.io/saddle/docs/getting_started/">Getting started</a>
    </li>
    
    <li class="active ">
      <a href="https://pityka.github.io/saddle/docs/usage/">Usage</a>
    </li>
    
  </ul>
</div>
          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Usage</h1>
<div class="content anchor-link-enabled">
  

<h3 id="imports">Imports</h3>

<p>You most likely need the following two imports:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle._
<span style="color:#66d9ef">import</span> org.saddle.order._</code></pre></div>
<p>Note that <code>org.saddle.order._</code> imports <code>cats.kernel.Order[_]</code> typeclass instances into the scope.
If you import cats instances an other way then you should not import <code>org.saddle.order._</code>.</p>

<p>The <code>Order[Double]</code> and <code>Order[Float]</code> instances in <code>org.saddle.order</code> define a total ordering and
order <code>NaN</code> above all other values, consistent with <code>java.lang.Double.compare</code>.</p>

<h3 id="1d-vector-vec-t">1D vector: Vec[T]</h3>

<p>Factories:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle._
<span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>  
<span style="color:#75715e">// res0: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">//   
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> to <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">:</span> <span style="color:#66d9ef">_</span><span style="color:#66d9ef">*</span><span style="color:#f92672">)</span>    
<span style="color:#75715e">// res1: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">//     
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res2: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">.</span>empty<span style="color:#f92672">[</span><span style="color:#66d9ef">Double</span><span style="color:#f92672">]</span> 
<span style="color:#75715e">// res3: Vec[Double] = Empty Vec 
</span><span style="color:#75715e"></span>
vec<span style="color:#f92672">.</span>ones<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res4: Vec[Double] = [2 x 1]
</span><span style="color:#75715e">// 1.0000
</span><span style="color:#75715e">// 1.0000
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>vec<span style="color:#f92672">.</span>zeros<span style="color:#f92672">(</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res5: Vec[Double] = [3 x 1]
</span><span style="color:#75715e">// 0.0000
</span><span style="color:#75715e">// 0.0000
</span><span style="color:#75715e">// 0.0000
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>vec<span style="color:#f92672">.</span>rand<span style="color:#f92672">(</span><span style="color:#ae81ff">20</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res6: Vec[Double] = [20 x 1]
</span><span style="color:#75715e">// 0.6175
</span><span style="color:#75715e">// 0.4762
</span><span style="color:#75715e">// 0.5150
</span><span style="color:#75715e">// 0.1563
</span><span style="color:#75715e">// 0.3591
</span><span style="color:#75715e">//  ... 
</span><span style="color:#75715e">// 0.1410
</span><span style="color:#75715e">// 0.3624
</span><span style="color:#75715e">// 0.0415
</span><span style="color:#75715e">// 0.1235
</span><span style="color:#75715e">// 0.2315
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Operations:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle.ops.BinOps._

<span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res7: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">// 5
</span><span style="color:#75715e">// 7
</span><span style="color:#75715e">// 9
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res8: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">//  4
</span><span style="color:#75715e">// 10
</span><span style="color:#75715e">// 18
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">**</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res9: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">//   1
</span><span style="color:#75715e">//  32
</span><span style="color:#75715e">// 729
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Note above, that you have to import that <code>BinOp</code> instances.</p>

<p>An alternative set of instances are also available which inline the innermost in Mat and Vec operations:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// The macros package contains instances where the innermost loop is inlined.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> org.saddle._
<span style="color:#66d9ef">import</span> org.saddle.macros.BinOps._  
<span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res11: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">// 5
</span><span style="color:#75715e">// 7
</span><span style="color:#75715e">// 9
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res12: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">//  4
</span><span style="color:#75715e">// 10
</span><span style="color:#75715e">// 18
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#f92672">**</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res13: Vec[Int] = [3 x 1]
</span><span style="color:#75715e">//   1
</span><span style="color:#75715e">//  32
</span><span style="color:#75715e">// 729
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Slicing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle._
<span style="color:#66d9ef">import</span> org.saddle.ops.BinOps._
<span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span> <span style="color:#75715e">// Boxes and keeps NA
</span><span style="color:#75715e">// res15: scalar.Scalar[Int] = Value(3) // Boxes and keeps NA
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>raw<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>  
<span style="color:#75715e">// res16: Int = 3  
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>apply<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span> <span style="color:#75715e">// same as raw
</span><span style="color:#75715e">// res17: Int = 3 // same as raw
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>take<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res18: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>take<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">*)</span>
<span style="color:#75715e">// res19: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">).</span>take<span style="color:#f92672">(*</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res20: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<h3 id="1d-vector-with-index-series-k-v">1D vector with index: Series[K,V]</h3>

<p>A Series combines a Vec with an Index that provides an ordered key-value mapping. We’ll talk more about the details of Index later.</p>

<p>The key type of a must have a natural ordering (ie, an Ordering of that type within the implicit scope). However, the Series maintains the order in which its data was supplied unless ordered othewise.</p>

<p>Let’s look at a few constructions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle.order._
<span style="color:#75715e">// we already know we can convert a Vec
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">32</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">12</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">9</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res21: Series[Int, Int] = [3 x 1]
</span><span style="color:#75715e">// 0 -&gt; 32
</span><span style="color:#75715e">// 1 -&gt; 12
</span><span style="color:#75715e">// 2 -&gt;  9
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// we can pass a pair of tuples
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res22: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// any series of tuples will work, eg:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">List</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">:</span> <span style="color:#66d9ef">_</span><span style="color:#66d9ef">*</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res23: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// can pass data and index separately:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res24: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// you can create an empty Series like so:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">.</span>empty<span style="color:#f92672">[</span><span style="color:#66d9ef">String</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">]</span>
<span style="color:#75715e">// res25: Series[String, Int] = Empty Series
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// supplied order is maintained:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res26: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// a -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// unlike map, multiple keys are entirely fine:
</span><span style="color:#75715e"></span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res27: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// a -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>With construction out of the way, let’s look at a few ways we can get data out of a Series.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> q <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// q: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// get the values or index
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>values
<span style="color:#75715e">// res28: Vec[Int] = [4 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>index
<span style="color:#75715e">// res29: Index[String] = [Index 4 x 1]
</span><span style="color:#75715e">// c
</span><span style="color:#75715e">// b
</span><span style="color:#75715e">// a
</span><span style="color:#75715e">// b
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// extract value by numerical offset
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res30: scalar.Scalar[Int] = Value(2)
</span><span style="color:#75715e"></span>
 q<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res31: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// or extract key
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>keyAt<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res32: scalar.Scalar[String] = Value(&#34;a&#34;)
</span><span style="color:#75715e"></span>
 q<span style="color:#f92672">.</span>keyAt<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res33: Index[String] = [Index 3 x 1]
</span><span style="color:#75715e">// a
</span><span style="color:#75715e">// b
</span><span style="color:#75715e">// b
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// sort by index ordering
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>sortedIx
<span style="color:#75715e">// res34: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// sort by value ordering
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>sorted
<span style="color:#75715e">// res35: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// extract elements matching the index
</span><span style="color:#75715e"></span> q<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res36: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 q<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res37: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// notice ordering subtleties:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res38: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// get first or last values
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>first
<span style="color:#75715e">// res39: scalar.Scalar[Int] = Value(1)
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>last
<span style="color:#75715e">// res40: scalar.Scalar[Int] = Value(4)
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// or key
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>firstKey
<span style="color:#75715e">// res41: scalar.Scalar[String] = Value(&#34;c&#34;)
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>lastKey
<span style="color:#75715e">// res42: scalar.Scalar[String] = Value(&#34;b&#34;)
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// &#34;reindex&#34; to a new index:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>reindex<span style="color:#f92672">(</span><span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res43: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// d -&gt; NA
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// or just by a sequence of keys:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>reindex<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res44: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// d -&gt; NA
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// notice that &#39;slicing&#39; ignores unknown keys:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res45: Series[String, Int] = [1 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// we cannot reindex with &#34;b&#34;, because it isn&#39;t unique.
</span><span style="color:#75715e">// (the problem is, which &#34;b&#34; would we choose?)
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>reindex<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// java.lang.IllegalArgumentException: requirement failed: Could not reindex unambiguously
</span><span style="color:#75715e">// 	at scala.Predef$.require(Predef.scala:281)
</span><span style="color:#75715e">// 	at org.saddle.Index.getIndexer(Index.scala:392)
</span><span style="color:#75715e">// 	at org.saddle.Index.getIndexer$(Index.scala:388)
</span><span style="color:#75715e">// 	at org.saddle.index.IndexAny.getIndexer(IndexAny.scala:29)
</span><span style="color:#75715e">// 	at org.saddle.Series$mcI$sp.reindex$mcI$sp(Series.scala:247)
</span><span style="color:#75715e">// 	at org.saddle.Series$mcI$sp.reindex$mcI$sp(Series.scala:256)
</span><span style="color:#75715e">// 	at repl.MdocSession$App14$$anonfun$46.apply(usage.md:190)
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> 	at repl<span style="color:#f92672">.</span><span style="color:#a6e22e">MdocSession$App14$$anonfun$46</span><span style="color:#f92672">.</span>apply<span style="color:#f92672">(</span>usage<span style="color:#f92672">.</span>md<span style="color:#66d9ef">:</span><span style="color:#960050;background-color:#1e0010">190</span><span style="color:#f92672">)</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// we can &#34;reset&#34; the index to integer labels
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>resetIndex
<span style="color:#75715e">// res46: Series[Int, Int] = [4 x 1]
</span><span style="color:#75715e">// 0 -&gt;  1
</span><span style="color:#75715e">// 1 -&gt;  3
</span><span style="color:#75715e">// 2 -&gt;  2
</span><span style="color:#75715e">// 3 -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// or to a new index altogether
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>setIndex<span style="color:#f92672">(</span><span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;w&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;z&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res47: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// w -&gt;  1
</span><span style="color:#75715e">// x -&gt;  3
</span><span style="color:#75715e">// y -&gt;  2
</span><span style="color:#75715e">// z -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// to &#39;slice&#39;, we need a sorted index; slice is inclusive by default
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">val</span> s <span style="color:#66d9ef">=</span> q<span style="color:#f92672">.</span>sortedIx
<span style="color:#75715e">// s: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> s<span style="color:#f92672">.</span>sliceBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res48: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// syntactic sugar is provided:
</span><span style="color:#75715e"></span> s<span style="color:#f92672">.</span>sliceBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res49: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> s<span style="color:#f92672">.</span>sliceBy<span style="color:#f92672">(*</span> <span style="color:#f92672">-&gt;</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res50: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// where slice is by offset, exclusive by default, and the
</span><span style="color:#75715e">// index doesn&#39;t have to be sorted:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>slice<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res51: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// there are head/tail methods:
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>head<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res52: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>tail<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res53: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Aside from extracting values, there are many fun ways to compute with Series. Try the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">q<span style="color:#f92672">.</span>mapValues<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res54: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  2
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// a -&gt;  3
</span><span style="color:#75715e">// b -&gt;  5
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>mapIndex<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res55: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// cx -&gt;  1
</span><span style="color:#75715e">// bx -&gt;  3
</span><span style="color:#75715e">// ax -&gt;  2
</span><span style="color:#75715e">// bx -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>shift<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res56: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt; NA
</span><span style="color:#75715e">// b -&gt;  1
</span><span style="color:#75715e">// a -&gt;  3
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>filter<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res57: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>filterIx<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res58: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>filterAt <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> loc <span style="color:#66d9ef">=&gt;</span> loc <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> loc <span style="color:#f92672">!=</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">}</span>
<span style="color:#75715e">// res59: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>find<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res60: Vec[Int] = [1 x 1]
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>findKey <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> x <span style="color:#66d9ef">=&gt;</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">}</span>
<span style="color:#75715e">// res61: Index[String] = [Index 2 x 1]
</span><span style="color:#75715e">// b
</span><span style="color:#75715e">// a
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>findOneKey <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> x <span style="color:#66d9ef">=&gt;</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">}</span>
<span style="color:#75715e">// res62: scalar.Scalar[String] = Value(&#34;b&#34;)
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>minKey
<span style="color:#75715e">// res63: scalar.Scalar[String] = Value(&#34;c&#34;)
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>contains<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res64: Boolean = true
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>scanLeft<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> <span style="color:#f92672">(</span>acc<span style="color:#f92672">,</span> v<span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span> acc <span style="color:#f92672">+</span> v <span style="color:#f92672">}</span>
<span style="color:#75715e">// res65: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// a -&gt;  6
</span><span style="color:#75715e">// b -&gt; 10
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>reversed
<span style="color:#75715e">// res66: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">val</span> ma <span style="color:#66d9ef">=</span> q<span style="color:#f92672">.</span>mask<span style="color:#f92672">(</span>q<span style="color:#f92672">.</span>values <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// ma: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt; NA
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt; NA
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>ma<span style="color:#f92672">.</span>hasNA
<span style="color:#75715e">// res67: Boolean = true
</span><span style="color:#75715e"></span>ma<span style="color:#f92672">.</span>dropNA
<span style="color:#75715e">// res68: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
q<span style="color:#f92672">.</span>rolling<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>minKey<span style="color:#f92672">)</span>
<span style="color:#75715e">// res69: Series[String, scalar.Scalar[String]] = [3 x 1]
</span><span style="color:#75715e">// b -&gt;  c
</span><span style="color:#75715e">// a -&gt;  a
</span><span style="color:#75715e">// b -&gt;  a
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>splitAt<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res70: (Series[String, Int], Series[String, Int]) = (
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// )
</span><span style="color:#75715e"></span>q<span style="color:#f92672">.</span>sortedIx<span style="color:#f92672">.</span>splitBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res71: (Series[String, Int], Series[String, Int]) = (
</span><span style="color:#75715e">//   [1 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [3 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> <span style="color:#f92672">)</span></code></pre></div>
<p>We can of course convert to a Vec or a Seq if we need to. The Series.toSeq method yields a sequence of key/value tuples.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">q<span style="color:#f92672">.</span>toVec
<span style="color:#75715e">// res72: Vec[Int] = [4 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> q<span style="color:#f92672">.</span>toSeq
<span style="color:#75715e">// res73: IndexedSeq[(String, Int)] = Vector(
</span><span style="color:#75715e">//   (&#34;c&#34;, 1),
</span><span style="color:#75715e">//   (&#34;b&#34;, 3),
</span><span style="color:#75715e">//   (&#34;a&#34;, 2),
</span><span style="color:#75715e">//   (&#34;b&#34;, 4)
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> <span style="color:#f92672">)</span></code></pre></div>
<p>We can also group by key in order to transform or combine the groupings, which themselves are Series. For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">q<span style="color:#f92672">.</span>groupBy<span style="color:#f92672">.</span>combine<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>sum<span style="color:#f92672">)</span>
<span style="color:#75715e">// res74: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  2
</span><span style="color:#75715e">// b -&gt;  7
</span><span style="color:#75715e">// c -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
q<span style="color:#f92672">.</span>groupBy<span style="color:#f92672">.</span>transform<span style="color:#f92672">(</span>s <span style="color:#66d9ef">=&gt;</span> s <span style="color:#f92672">-</span> s<span style="color:#f92672">.</span>mean<span style="color:#f92672">)</span>
<span style="color:#75715e">// res75: Series[String, Double] = [4 x 1]
</span><span style="color:#75715e">// c -&gt;  0.0000
</span><span style="color:#75715e">// b -&gt; -0.5000
</span><span style="color:#75715e">// a -&gt;  0.0000
</span><span style="color:#75715e">// b -&gt;  0.5000
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>You can also group by another index, or by a transformation of the current index, by passing an argument into groupBy. See the Saddle API for more info.</p>

<p>The expressive nature of working with Series becomes apparent when you need to align data:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> a <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// a: Series[String, Int] = [4 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// c -&gt;  2
</span><span style="color:#75715e">// d -&gt;  3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> b <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">8</span><span style="color:#f92672">,</span><span style="color:#ae81ff">7</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;e&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;f&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// b: Series[String, Int] = [5 x 1]
</span><span style="color:#75715e">// b -&gt;  5
</span><span style="color:#75715e">// c -&gt;  2
</span><span style="color:#75715e">// d -&gt;  1
</span><span style="color:#75715e">// e -&gt;  8
</span><span style="color:#75715e">// f -&gt;  7
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
a <span style="color:#f92672">+</span> b
<span style="color:#75715e">// res76: Series[String, Int] = [6 x 1]
</span><span style="color:#75715e">// a -&gt; NA
</span><span style="color:#75715e">// b -&gt;  9
</span><span style="color:#75715e">// c -&gt;  4
</span><span style="color:#75715e">// d -&gt;  4
</span><span style="color:#75715e">// e -&gt; NA
</span><span style="color:#75715e">// f -&gt; NA
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>You see that the indexes have been aligned prior to operation being performed. Because there is a missing observation in each label of a, e, and f, the summation is not done and instead an NA value is inserted into the result.</p>

<p>Generally, a full-outer join is performed. So, for instance:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> c <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// c: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> d <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// d: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// b -&gt;  5
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// d -&gt;  1
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
c <span style="color:#f92672">+</span> d
<span style="color:#75715e">// res77: Series[String, Int] = [6 x 1]
</span><span style="color:#75715e">// a -&gt; NA
</span><span style="color:#75715e">// b -&gt;  9
</span><span style="color:#75715e">// b -&gt;  6
</span><span style="color:#75715e">// b -&gt;  7
</span><span style="color:#75715e">// b -&gt;  4
</span><span style="color:#75715e">// d -&gt; NA
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Most basic math and boolean operations are supported between two Series, as well as between a Series and a scalar value.</p>

<p>We mentioned joins. Let’s look at a few join operations; the result is a Frame, which we will touch on a bit later. These are similar in nature to SQL joins.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">a<span style="color:#f92672">.</span>join<span style="color:#f92672">(</span>b<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res78: Frame[String, Int, Int] = [4 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  4  5 
</span><span style="color:#75715e">// c -&gt;  2  2 
</span><span style="color:#75715e">// d -&gt;  3  1 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 a<span style="color:#f92672">.</span>join<span style="color:#f92672">(</span>b<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">RightJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res79: Frame[String, Int, Int] = [5 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  4  5 
</span><span style="color:#75715e">// c -&gt;  2  2 
</span><span style="color:#75715e">// d -&gt;  3  1 
</span><span style="color:#75715e">// e -&gt; NA  8 
</span><span style="color:#75715e">// f -&gt; NA  7 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 a<span style="color:#f92672">.</span>join<span style="color:#f92672">(</span>b<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">InnerJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res80: Frame[String, Int, Int] = [3 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  4  5 
</span><span style="color:#75715e">// c -&gt;  2  2 
</span><span style="color:#75715e">// d -&gt;  3  1 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 a<span style="color:#f92672">.</span>join<span style="color:#f92672">(</span>b<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">OuterJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res81: Frame[String, Int, Int] = [6 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  4  5 
</span><span style="color:#75715e">// c -&gt;  2  2 
</span><span style="color:#75715e">// d -&gt;  3  1 
</span><span style="color:#75715e">// e -&gt; NA  8 
</span><span style="color:#75715e">// f -&gt; NA  7 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<h3 id="matrix-mat-t">Matrix: Mat[T]</h3>

<p>A <code>Mat[T]</code> represents a matrix of values. Internally it is stored as a single contiguous array in row-major order.</p>

<p>The row-major layout is compatible with EJML, a linear algebra library running on the JVM.
If you want to use a BLAS, you can take a look in <code>saddle-linalg</code>.</p>

<p>Let’s start off with construction:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle._
 <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res82: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// all same:
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">)))</span>
<span style="color:#75715e">// res83: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res84: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">)))</span>
<span style="color:#75715e">// res85: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// identity matrix:
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>ident<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res86: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 1.0000 0.0000 
</span><span style="color:#75715e">// 0.0000 1.0000 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// empty matrix:
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">.</span>empty<span style="color:#f92672">[</span><span style="color:#66d9ef">Double</span><span style="color:#f92672">]</span>
<span style="color:#75715e">// res87: Mat[Double] = [0 x 0]
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// zeros:
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">[</span><span style="color:#66d9ef">Int</span><span style="color:#f92672">](</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res88: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 0 0 
</span><span style="color:#75715e">// 0 0 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Again, sometimes we want to create instances filled with random observations. As to Vec, we can do the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">mat<span style="color:#f92672">.</span>rand<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>       
<span style="color:#75715e">// res89: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 0.1633 0.3156 
</span><span style="color:#75715e">// 0.2683 0.1897 
</span><span style="color:#75715e">//        
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>randp<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>      <span style="color:#75715e">// random positive doubles
</span><span style="color:#75715e">// res90: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 0.4303 0.1193 
</span><span style="color:#75715e">// 0.3207 0.1920 
</span><span style="color:#75715e">//       // random positive doubles
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>randn<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>      <span style="color:#75715e">// random normally distributed doubles
</span><span style="color:#75715e">// res91: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// -1.0727 -0.3502 
</span><span style="color:#75715e">//  0.5117  0.3399 
</span><span style="color:#75715e">//       // random normally distributed doubles
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>randn2<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">12</span><span style="color:#f92672">)</span> <span style="color:#75715e">// random normally distributed with mean=3, stdev=12
</span><span style="color:#75715e">// res92: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">//  3.1925 29.6061 
</span><span style="color:#75715e">// -9.0767 -4.8164 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>There are a few other factory methods available:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">mat<span style="color:#f92672">.</span>ones<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res93: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 1.0000 1.0000 
</span><span style="color:#75715e">// 1.0000 1.0000 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>zeros<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res94: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 0.0000 0.0000 
</span><span style="color:#75715e">// 0.0000 0.0000 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>diag<span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res95: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 1.0000 0.0000 
</span><span style="color:#75715e">// 0.0000 2.0000 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Let’s look at some basic operations with Mat. As with Vec, you may perform calculations on two Mat instances, or on a Mat and a scalar value.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// element-wise multiplication
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res96: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 4  2 
</span><span style="color:#75715e">// 6 12 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Matrix multiplication and matrix-vector multiplication needs <code>saddle-linalg</code>, which depends on netlib-java. These only work on <code>Mat[Double]</code> and <code>Vec[Double]</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle.linalg._
<span style="color:#75715e">// matrix multiplication
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">2</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">3</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">4</span>d<span style="color:#f92672">))</span> mm <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">1</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">2</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">3</span>d<span style="color:#f92672">))</span>
<span style="color:#75715e">// res97: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">//  8.0000  7.0000 
</span><span style="color:#75715e">// 20.0000 15.0000 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>

<span style="color:#75715e">// matrix-vector multiplication
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">2</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">3</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">4</span>d<span style="color:#f92672">))</span> mv <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span>d<span style="color:#f92672">,</span><span style="color:#ae81ff">1</span>d<span style="color:#f92672">)</span>
<span style="color:#75715e">// res98: Vec[Double] = [2 x 1]
</span><span style="color:#75715e">//  4.0000
</span><span style="color:#75715e">// 10.0000
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// as expected
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e">// res99: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 2 4 
</span><span style="color:#75715e">// 6 8 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e">// res100: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 5 6 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e">// res101: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">//  4  8 
</span><span style="color:#75715e">// 12 16 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// etc...
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// transpose
</span><span style="color:#75715e"></span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">)).</span>T
<span style="color:#75715e">// res102: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 3 
</span><span style="color:#75715e">// 2 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// properties of Mat
</span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> m <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// m: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>numRows
<span style="color:#75715e">// res103: Int = 2
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>numCols
<span style="color:#75715e">// res104: Int = 2
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>isSquare
<span style="color:#75715e">// res105: Boolean = true
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>isEmpty
<span style="color:#f92672">//</span> res106<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span></code></pre></div>
<p>There are a few ways to extract values from a Mat.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">m<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res107: scalar.Scalar[Int] = Value(2)
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// be careful with this one!
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>raw<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res108: Int = 2
</span><span style="color:#75715e"></span>
 m<span style="color:#f92672">.</span>takeRows<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res109: Mat[Int] = [1 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 m<span style="color:#f92672">.</span>withoutRows<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res110: Mat[Int] = [1 x 2]
</span><span style="color:#75715e">// 3 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 m<span style="color:#f92672">.</span>takeCols<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res111: Mat[Int] = [2 x 1]
</span><span style="color:#75715e">// 1 
</span><span style="color:#75715e">// 3 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 m<span style="color:#f92672">.</span>col<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res112: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>row<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res113: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>rows<span style="color:#f92672">()</span>
<span style="color:#75715e">// res114: IndexedSeq[Vec[Int]] = Vector(
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// )
</span><span style="color:#75715e"></span> m<span style="color:#f92672">.</span>cols<span style="color:#f92672">()</span>
<span style="color:#75715e">// res115: IndexedSeq[Vec[Int]] = Vector(
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [2 x 1]
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> <span style="color:#f92672">)</span></code></pre></div>
<p>Some other interesting methods on Mat:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> m2 <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Mat</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span>na<span style="color:#f92672">.</span>to<span style="color:#f92672">[</span><span style="color:#66d9ef">Int</span><span style="color:#f92672">],</span><span style="color:#ae81ff">4</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// m2: Mat[Int] = [2 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// NA 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 m2<span style="color:#f92672">.</span>rowsWithNA
<span style="color:#75715e">// res116: Set[Int] = Set(1)
</span><span style="color:#75715e"></span> m2<span style="color:#f92672">.</span>dropRowsWithNA
<span style="color:#75715e">// res117: Mat[Int] = [1 x 2]
</span><span style="color:#75715e">// 1 2 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> m2<span style="color:#f92672">.</span>reshape<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">4</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res118: Mat[Int] = [1 x 4]
</span><span style="color:#75715e">// 1 2 NA 4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> mat<span style="color:#f92672">.</span>rand<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">).</span>roundTo<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res119: Mat[Double] = [2 x 2]
</span><span style="color:#75715e">// 0.2100 0.7600 
</span><span style="color:#75715e">// 0.1400 0.5900 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<h3 id="homogeneous-table-with-row-and-column-index-data-frame-frame-rx-cx-t">Homogeneous table with row and column index (data frame) : Frame[RX,CX,T]</h3>

<p>A Frame combines a Mat with a row index and a column index which provides a way to index into the Mat.</p>

<p>A Frame is represented internally as a sequence of column Vec instances all sharing the same row index.</p>

<p>Let’s look at some ways to instantiated a Frame:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> v <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>                              <span style="color:#75715e">// given the following
</span><span style="color:#75715e">// v: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 1
</span><span style="color:#75715e">// 2
</span><span style="color:#75715e">//                               // given the following
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">val</span> u <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// u: Vec[Int] = [2 x 1]
</span><span style="color:#75715e">// 3
</span><span style="color:#75715e">// 4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">val</span> s2 <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// s2: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">val</span> t <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// t: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// c -&gt;  4
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span>v<span style="color:#f92672">,</span> u<span style="color:#f92672">)</span>                                    <span style="color:#75715e">// two-column frame
</span><span style="color:#75715e">// res120: Frame[Int, Int, Int] = [2 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1  3 
</span><span style="color:#75715e">// 1 -&gt;  2  4 
</span><span style="color:#75715e">//                                     // two-column frame
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">-&gt;</span> v<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span> <span style="color:#f92672">-&gt;</span> u<span style="color:#f92672">)</span>                      <span style="color:#75715e">// with column index
</span><span style="color:#75715e">// res121: Frame[Int, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1  3 
</span><span style="color:#75715e">// 1 -&gt;  2  4 
</span><span style="color:#75715e">//                       // with column index
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span>s2<span style="color:#f92672">,</span> t<span style="color:#f92672">)</span>                                    <span style="color:#75715e">// aligned along rows
</span><span style="color:#75715e">// res122: Frame[String, Int, Int] = [3 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//                                     // aligned along rows
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">-&gt;</span> s2<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span> <span style="color:#f92672">-&gt;</span> t<span style="color:#f92672">)</span>                      <span style="color:#75715e">// with column index
</span><span style="color:#75715e">// res123: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//                       // with column index
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span>s2<span style="color:#f92672">,</span> t<span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">))</span>              <span style="color:#75715e">// explicit column index
</span><span style="color:#75715e">// res124: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//               // explicit column index
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span>v<span style="color:#f92672">,</span> u<span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">))</span> <span style="color:#75715e">// row &amp; col indexes specified explicitly
</span><span style="color:#75715e">// res125: Frame[Int, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1  3 
</span><span style="color:#75715e">// 1 -&gt;  2  4 
</span><span style="color:#75715e">//  // row &amp; col indexes specified explicitly
</span><span style="color:#75715e"></span>
 <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span>v<span style="color:#f92672">,</span> u<span style="color:#f92672">),</span> <span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">))</span>              <span style="color:#75715e">// col index specified
</span><span style="color:#75715e">// res126: Frame[Int, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       a  b 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1  3 
</span><span style="color:#75715e">// 1 -&gt;  2  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>You’ll notice that if an index is not provided, a default int index is set where the index ranges between 0 and the length of the data.</p>

<p>If you want to set or reset the index, these methods are your friends:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> f <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">-&gt;</span> s2<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span> <span style="color:#f92672">-&gt;</span> t<span style="color:#f92672">)</span>
<span style="color:#75715e">// f: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>
 f<span style="color:#f92672">.</span>setRowIndex<span style="color:#f92672">(</span>org<span style="color:#f92672">.</span>saddle<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">IndexIntRange</span><span style="color:#f92672">(</span>f<span style="color:#f92672">.</span>numRows<span style="color:#f92672">))</span>
<span style="color:#75715e">// res127: Frame[Int, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1 NA 
</span><span style="color:#75715e">// 1 -&gt;  2  3 
</span><span style="color:#75715e">// 2 -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>setColIndex<span style="color:#f92672">(</span><span style="color:#a6e22e">Index</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;p&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;q&#34;</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// res128: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       p  q 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>resetRowIndex
<span style="color:#75715e">// res129: Frame[Int, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// 0 -&gt;  1 NA 
</span><span style="color:#75715e">// 1 -&gt;  2  3 
</span><span style="color:#75715e">// 2 -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>resetColIndex
<span style="color:#75715e">// res130: Frame[String, Int, Int] = [3 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>(Note: frame f will carry through the next examples.)</p>

<p>You also have the following index transformation tools at hand:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>mapRowIndex <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> rx <span style="color:#66d9ef">=&gt;</span> rx<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">}</span>
<span style="color:#75715e">// res131: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//        x  y 
</span><span style="color:#75715e">//       -- -- 
</span><span style="color:#75715e">// a1 -&gt;  1 NA 
</span><span style="color:#75715e">// b1 -&gt;  2  3 
</span><span style="color:#75715e">// c1 -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span>f<span style="color:#f92672">.</span>mapColIndex <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> cx <span style="color:#66d9ef">=&gt;</span> cx<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">}</span>
<span style="color:#75715e">// res132: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//      x2 y2 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Let’s next look at how to extract data from the Frame.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>rowAt<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>    <span style="color:#75715e">// extract row at offset 2, as Series
</span><span style="color:#75715e">// res133: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// x -&gt; NA
</span><span style="color:#75715e">// y -&gt;  4
</span><span style="color:#75715e">//     // extract row at offset 2, as Series
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rowAt<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>  <span style="color:#75715e">// extract frame of rows 1 &amp; 2
</span><span style="color:#75715e">// res134: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//   // extract frame of rows 1 &amp; 2
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rowAt<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span> <span style="color:#75715e">// extract frame of rows 1 &amp; 2
</span><span style="color:#75715e">// res135: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//  // extract frame of rows 1 &amp; 2
</span><span style="color:#75715e"></span>
 f<span style="color:#f92672">.</span>colAt<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>    <span style="color:#75715e">// extract col at offset 1, as Series
</span><span style="color:#75715e">// res136: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt; NA
</span><span style="color:#75715e">// b -&gt;  3
</span><span style="color:#75715e">// c -&gt;  4
</span><span style="color:#75715e">//     // extract col at offset 1, as Series
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>colAt<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>  <span style="color:#75715e">// extract frame of cols 1 &amp; 2
</span><span style="color:#75715e">// res137: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//   // extract frame of cols 1 &amp; 2
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>colAt<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span> <span style="color:#75715e">// extract frame of cols 1 &amp; 2
</span><span style="color:#75715e">// res138: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>rowAt and colAt are used under the hood for the at extractor:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>              <span style="color:#75715e">// Scalar value
</span><span style="color:#75715e">// res139: scalar.Scalar[Int] = Value(3)              // Scalar value
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">),</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>    <span style="color:#75715e">// extract rows 1,2 of column 0
</span><span style="color:#75715e">// res140: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt; NA
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>If you want more control over slicing, you can use these methods:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>colSlice<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>        <span style="color:#75715e">// frame slice consisting of column 0
</span><span style="color:#75715e">// res141: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">//         // frame slice consisting of column 0
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rowSlice<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>      <span style="color:#75715e">// row slice from 0 until 3, striding by 2
</span><span style="color:#75715e">// res142: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Of course, this is an bi-indexed data structure, so we can use its indexes to select out data using keys:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>row<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">)</span>             <span style="color:#75715e">// row series &#39;a&#39;, with all columns
</span><span style="color:#75715e">// res143: Frame[String, String, Int] = [1 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">//              // row series &#39;a&#39;, with all columns
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>col<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>             <span style="color:#75715e">// col series &#39;x&#39;, with all rows
</span><span style="color:#75715e">// res144: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">//              // col series &#39;x&#39;, with all rows
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>row<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">)</span>        <span style="color:#75715e">// select two rows
</span><span style="color:#75715e">// res145: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//         // select two rows
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>row<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">-&gt;</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>        <span style="color:#75715e">// slice two rows (index must be sorted)
</span><span style="color:#75715e">// res146: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">//         // slice two rows (index must be sorted)
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>row<span style="color:#f92672">(</span><span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">)</span><span style="color:#66d9ef">:_</span><span style="color:#66d9ef">*</span><span style="color:#f92672">)</span>   <span style="color:#75715e">// another way to select
</span><span style="color:#75715e">// res147: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>A more explict way to slice with keys is as follows, and you can specify whether the right bound is inclusive or exclusive. Again, to slice, the index keys must be ordered.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>rowSliceBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> inclusive<span style="color:#66d9ef">=</span><span style="color:#66d9ef">false</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res148: Frame[String, String, Int] = [1 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>colSliceBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">,</span> inclusive<span style="color:#66d9ef">=</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res149: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>The row and col methods are used under the hood for the apply method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>             <span style="color:#75715e">// extract a one-element frame by keys
</span><span style="color:#75715e">// res150: Frame[String, String, Int] = [1 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">//              // extract a one-element frame by keys
</span><span style="color:#75715e"></span> f<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">-&gt;</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>        <span style="color:#75715e">// two-row, one-column frame
</span><span style="color:#75715e">// res151: Frame[String, String, Int] = [2 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">//         // two-row, one-column frame
</span><span style="color:#75715e"></span> f<span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;c&#34;</span><span style="color:#f92672">).</span>toArray<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>   <span style="color:#75715e">// same as above, but extracting, not slicing
</span><span style="color:#75715e">// res152: Frame[String, String, Int] = [2 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>The methods of extracting multiple rows shown above can of course be done on columns as well.</p>

<p>You can also split up the Frame by key or index:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>colSplitAt<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>          <span style="color:#75715e">// split into two frames at column 1
</span><span style="color:#75715e">// res153: (Frame[String, String, Int], Frame[String, String, Int]) = (
</span><span style="color:#75715e">//   [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [3 x 1]
</span><span style="color:#75715e">//       y 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt; NA 
</span><span style="color:#75715e">// b -&gt;  3 
</span><span style="color:#75715e">// c -&gt;  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// )          // split into two frames at column 1
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>colSplitBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res154: (Frame[String, String, Int], Frame[String, String, Int]) = (
</span><span style="color:#75715e">//   [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [3 x 1]
</span><span style="color:#75715e">//       y 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt; NA 
</span><span style="color:#75715e">// b -&gt;  3 
</span><span style="color:#75715e">// c -&gt;  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// )
</span><span style="color:#75715e"></span>
 f<span style="color:#f92672">.</span>rowSplitAt<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res155: (Frame[String, String, Int], Frame[String, String, Int]) = (
</span><span style="color:#75715e">//   [1 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// )
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rowSplitBy<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res156: (Frame[String, String, Int], Frame[String, String, Int]) = (
</span><span style="color:#75715e">//   [1 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// ,
</span><span style="color:#75715e">//   [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> <span style="color:#f92672">)</span></code></pre></div>
<p>You extract some number of rows or columns:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>head<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>                <span style="color:#75715e">// operates on rows
</span><span style="color:#75715e">// res157: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">//                 // operates on rows
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>tail<span style="color:#f92672">(</span><span style="color:#ae81ff">2</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res158: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>headCol<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>             <span style="color:#75715e">// operates on cols
</span><span style="color:#75715e">// res159: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">//              // operates on cols
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>tailCol<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res160: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       y 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt; NA 
</span><span style="color:#75715e">// b -&gt;  3 
</span><span style="color:#75715e">// c -&gt;  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Or the first &amp; last of some key (which is helpful when you’ve got a multi-key index):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>first<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>              <span style="color:#75715e">// first row indexed by &#34;b&#34; key
</span><span style="color:#75715e">// res161: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// x -&gt;  2
</span><span style="color:#75715e">// y -&gt;  3
</span><span style="color:#75715e">//               // first row indexed by &#34;b&#34; key
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>last<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">)</span>               <span style="color:#75715e">// last row indexed by &#34;b&#34; key
</span><span style="color:#75715e">// res162: Series[String, Int] = [2 x 1]
</span><span style="color:#75715e">// x -&gt;  2
</span><span style="color:#75715e">// y -&gt;  3
</span><span style="color:#75715e">//                // last row indexed by &#34;b&#34; key
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>firstCol<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res163: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt; NA
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>lastCol<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res164: Series[String, Int] = [3 x 1]
</span><span style="color:#75715e">// a -&gt;  1
</span><span style="color:#75715e">// b -&gt;  2
</span><span style="color:#75715e">// c -&gt; NA
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>There are a few other methods of extracting data:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle.linalg._
 f<span style="color:#f92672">.</span>filter <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> s <span style="color:#66d9ef">=&gt;</span> s<span style="color:#f92672">.</span>toVec<span style="color:#f92672">.</span>map<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>toDouble<span style="color:#f92672">).</span>mean2 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2.0</span> <span style="color:#f92672">}</span>  <span style="color:#75715e">// any column whose series satisfies predicate
</span><span style="color:#75715e">// res165: Frame[String, String, Int] = Empty Frame  // any column whose series satisfies predicate
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>filterIx <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> x <span style="color:#66d9ef">=&gt;</span> x <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;x&#34;</span> <span style="color:#f92672">}</span>    <span style="color:#75715e">// col where index matches key &#34;x&#34;
</span><span style="color:#75715e">// res166: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e">//     // col where index matches key &#34;x&#34;
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>where<span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">))</span>            <span style="color:#75715e">// extract second column
</span><span style="color:#75715e">// res167: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       y 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt; NA 
</span><span style="color:#75715e">// b -&gt;  3 
</span><span style="color:#75715e">// c -&gt;  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>There are analogous methods to operate on rows rather then columns:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">rfilter
rfilterIx
rwhere</code></pre></div>
<p>etc&hellip; in general, methods operate on a column-wise basis, whereas the r-counterpart does so on a row-wise basis.</p>

<p>You can drop cols (rows) containing any NA values:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>dropNA
<span style="color:#75715e">// res168: Frame[String, String, Int] = Empty Frame
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rdropNA
<span style="color:#75715e">// res169: Frame[String, String, Int] = [1 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Let’s take a look at some operations we can do with Frames. We can do all the normal binary math operations with Frames, with either a scalar value or with another Frame. When two frames are involved, they are reindexed along both axes to match the outer join of their indices, but any missing observation in either will carry through the calculations.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
<span style="color:#75715e">// res170: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  2 NA 
</span><span style="color:#75715e">// b -&gt;  3  4 
</span><span style="color:#75715e">// c -&gt; NA  5 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f <span style="color:#f92672">*</span> f
<span style="color:#75715e">// res171: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  4  9 
</span><span style="color:#75715e">// c -&gt; NA 16 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">val</span> g <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Frame</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">Series</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;b&#34;</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">5</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;d&#34;</span><span style="color:#f92672">-&gt;</span><span style="color:#ae81ff">10</span><span style="color:#f92672">))</span>
<span style="color:#75715e">// g: Frame[String, String, Int] = [2 x 1]
</span><span style="color:#75715e">//       y 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// b -&gt;  5 
</span><span style="color:#75715e">// d -&gt; 10 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e"></span> f <span style="color:#f92672">+</span> g                      <span style="color:#75715e">// one non-NA entry, (&#34;b&#34;, &#34;y&#34;, 8)
</span><span style="color:#75715e">// res172: Frame[String, String, Int] = [4 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt; NA NA 
</span><span style="color:#75715e">// b -&gt; NA  8 
</span><span style="color:#75715e">// c -&gt; NA NA 
</span><span style="color:#75715e">// d -&gt; NA NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>You can effectively supply your own binary frame operation using joinMap, which lets you control the join style on rows and columns:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>joinMap<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> rhow<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">,</span> chow<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> <span style="color:#f92672">(</span>x<span style="color:#f92672">,</span> y<span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span> x <span style="color:#f92672">+</span> y <span style="color:#f92672">}</span>
<span style="color:#75715e">// res173: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt; NA NA 
</span><span style="color:#75715e">// b -&gt; NA  8 
</span><span style="color:#75715e">// c -&gt; NA NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>If you want simply to align one frame to another without performing an operation, use the following method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> <span style="color:#f92672">(</span>fNew<span style="color:#f92672">,</span> gNew<span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> f<span style="color:#f92672">.</span>align<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> rhow<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">,</span> chow<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">OuterJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// fNew: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// 
</span><span style="color:#75715e">// gNew: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt; NA NA 
</span><span style="color:#75715e">// b -&gt; NA  5 
</span><span style="color:#75715e">// c -&gt; NA NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>If you want to treat a Frame as a matrix to use in linear algebraic fashion, call the <code>toMat</code> method.</p>

<p>We can sort a frame in various ways:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>sortedRIx                <span style="color:#75715e">// sorted by row index
</span><span style="color:#75715e">// res174: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//                 // sorted by row index
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>sortedCIx                <span style="color:#75715e">// sorted by col index
</span><span style="color:#75715e">// res175: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//                 // sorted by col index
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>sortedRows<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">,</span><span style="color:#ae81ff">1</span><span style="color:#f92672">)</span>          <span style="color:#75715e">// sort rows by (primary) col 0 and (secondary) col 1
</span><span style="color:#75715e">// res176: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">//           // sort rows by (primary) col 0 and (secondary) col 1
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>sortedCols<span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span>          <span style="color:#75715e">// sort cols by (primary) row 1 and (secondary) row 0
</span><span style="color:#75715e">// res177: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>We can also sort by an ordering provided by the result of a function acting on rows or cols:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>sortedRowsBy <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> r <span style="color:#66d9ef">=&gt;</span> r<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">}</span>   <span style="color:#75715e">// sort rows by first element of row
</span><span style="color:#75715e">// res178: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//    // sort rows by first element of row
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>sortedColsBy <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> c <span style="color:#66d9ef">=&gt;</span> c<span style="color:#f92672">.</span>at<span style="color:#f92672">(</span><span style="color:#ae81ff">0</span><span style="color:#f92672">)</span> <span style="color:#f92672">}</span>   <span style="color:#75715e">// sort cols by first element of col
</span><span style="color:#75715e">// res179: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>There are several mapping functions:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>mapValues <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> t <span style="color:#66d9ef">=&gt;</span> t <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">}</span>        <span style="color:#75715e">// add one to each element of frame
</span><span style="color:#75715e">// res180: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  2 NA 
</span><span style="color:#75715e">// b -&gt;  3  4 
</span><span style="color:#75715e">// c -&gt; NA  5 
</span><span style="color:#75715e">//         // add one to each element of frame
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">import</span> org.saddle.linalg._
 f<span style="color:#f92672">.</span>mapVec <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> v <span style="color:#66d9ef">=&gt;</span> v<span style="color:#f92672">.</span>map<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>toDouble<span style="color:#f92672">).</span>demeaned <span style="color:#f92672">}</span>      <span style="color:#75715e">// map over each col vec of the frame
</span><span style="color:#75715e">// res181: Frame[String, String, Double] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt; NA NA 
</span><span style="color:#75715e">// b -&gt; NA NA 
</span><span style="color:#75715e">// c -&gt; NA NA 
</span><span style="color:#75715e">//       // map over each col vec of the frame
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>reduce <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> s <span style="color:#66d9ef">=&gt;</span> s<span style="color:#f92672">.</span>toVec<span style="color:#f92672">.</span>map<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>toDouble<span style="color:#f92672">).</span>mean2 <span style="color:#f92672">}</span>          <span style="color:#75715e">// collapse each col series to a single value
</span><span style="color:#75715e">// res182: Series[String, Double] = [2 x 1]
</span><span style="color:#75715e">// x -&gt; NA
</span><span style="color:#75715e">// y -&gt; NA
</span><span style="color:#75715e">//           // collapse each col series to a single value
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>transform <span style="color:#f92672">{</span> <span style="color:#66d9ef">case</span> s <span style="color:#66d9ef">=&gt;</span> s<span style="color:#f92672">.</span>reversed <span style="color:#f92672">}</span>   <span style="color:#75715e">// transform each series; outerjoin results
</span><span style="color:#75715e">// res183: Frame[String, String, Int] = [3 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>We can mask out values:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scal mdoc" data-lang="scal mdoc"> f.mask(_ &gt; 2)                          // mask out values &gt; 2
 f.mask(Vec(false, true, true))         // mask out rows 1 &amp; 2 (keep row 0)</code></pre></div>
<p>Columns (rows) containing only NA values can be dropped as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>mask<span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">)).</span>rsqueeze   <span style="color:#75715e">// drop rows containing NA values
</span><span style="color:#75715e">// res184: Frame[String, String, Int] = [2 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">//    // drop rows containing NA values
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rmask<span style="color:#f92672">(</span><span style="color:#a6e22e">Vec</span><span style="color:#f92672">(</span><span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">)).</span>squeeze          <span style="color:#75715e">// takes &#34;x&#34; column
</span><span style="color:#75715e">// res185: Frame[String, String, Int] = [3 x 1]
</span><span style="color:#75715e">//       x 
</span><span style="color:#75715e">//      -- 
</span><span style="color:#75715e">// a -&gt;  1 
</span><span style="color:#75715e">// b -&gt;  2 
</span><span style="color:#75715e">// c -&gt; NA 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>We can groupBy in order to combine or transform:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">import</span> org.saddle.linalg._
 f<span style="color:#f92672">.</span>groupBy<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">).</span>combine<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>count<span style="color:#f92672">)</span>       <span style="color:#75715e">// # obs in each column that have/not row key &#34;a&#34;
</span><span style="color:#75715e">// res186: Frame[Boolean, String, Int] = [2 x 2]
</span><span style="color:#75715e">//           x  y 
</span><span style="color:#75715e">//          -- -- 
</span><span style="color:#75715e">// false -&gt;  1  2 
</span><span style="color:#75715e">//  true -&gt;  1  0 
</span><span style="color:#75715e">//        // # obs in each column that have/not row key &#34;a&#34;
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>groupBy<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">).</span>transform<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>map<span style="color:#f92672">(</span><span style="color:#66d9ef">_</span><span style="color:#f92672">.</span>toDouble<span style="color:#f92672">).</span>demeaned<span style="color:#f92672">)</span>  <span style="color:#75715e">// contrived, but you get the idea hopefully!
</span><span style="color:#75715e">// res187: Frame[String, String, Double] = [3 x 2]
</span><span style="color:#75715e">//           x       y 
</span><span style="color:#75715e">//      ------ ------- 
</span><span style="color:#75715e">// a -&gt; 0.0000      NA 
</span><span style="color:#75715e">// b -&gt;     NA -0.5000 
</span><span style="color:#75715e">// c -&gt;     NA  0.5000 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>We can join against another frame, or against a series.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">f<span style="color:#f92672">.</span>rconcat<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>              
<span style="color:#75715e">// res188: Frame[String, String, Int] = [3 x 3]
</span><span style="color:#75715e">//       x  y  y 
</span><span style="color:#75715e">//      -- -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA NA 
</span><span style="color:#75715e">// b -&gt;  2  3  5 
</span><span style="color:#75715e">// c -&gt; NA  4 NA 
</span><span style="color:#75715e">//               
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>concat<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>              
<span style="color:#75715e">// res189: Frame[String, String, Int] = [5 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// b -&gt; NA  5 
</span><span style="color:#75715e">// d -&gt; NA 10 
</span><span style="color:#75715e">//               
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>cbind<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>              
<span style="color:#75715e">// res190: Frame[String, String, Int] = [3 x 3]
</span><span style="color:#75715e">//       x  y  y 
</span><span style="color:#75715e">//      -- -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA NA 
</span><span style="color:#75715e">// b -&gt;  2  3  5 
</span><span style="color:#75715e">// c -&gt; NA  4 NA 
</span><span style="color:#75715e">//               
</span><span style="color:#75715e"></span> f<span style="color:#f92672">.</span>rbind<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>              
<span style="color:#75715e">// res191: Frame[String, String, Int] = [5 x 2]
</span><span style="color:#75715e">//       x  y 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// a -&gt;  1 NA 
</span><span style="color:#75715e">// b -&gt;  2  3 
</span><span style="color:#75715e">// c -&gt; NA  4 
</span><span style="color:#75715e">// b -&gt; NA  5 
</span><span style="color:#75715e">// d -&gt; NA 10 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
<p>Btw, to join a Frame to a series, the call looks like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala">s<span style="color:#f92672">.</span>joinF<span style="color:#f92672">(</span>g<span style="color:#f92672">,</span> how<span style="color:#66d9ef">=</span>index<span style="color:#f92672">.</span><span style="color:#a6e22e">LeftJoin</span><span style="color:#f92672">)</span>
<span style="color:#75715e">// res192: Frame[String, Int, Int] = [3 x 2]
</span><span style="color:#75715e">//       0  1 
</span><span style="color:#75715e">//      -- -- 
</span><span style="color:#75715e">// b -&gt;  3  5 
</span><span style="color:#75715e">// b -&gt;  4  5 
</span><span style="color:#75715e">// d -&gt; NA 10 
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span></code></pre></div>
</div>
</div>

        </div>
      </div>
    </div>
  </div>

  

  
  

  
  <script type="text/javascript" src="/saddle/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>